# Solana é›†æˆå¼€å‘è®¡åˆ’

> **é¡¹ç›®**: BSC æ‰“ç‹—æ£’ - å¤šé“¾æ”¯æŒ
> **ç‰ˆæœ¬**: v2.0.0
> **åˆ›å»ºæ—¶é—´**: 2025-01-09
> **é¢„è®¡å·¥æœŸ**: 8-10 å‘¨

---

## ğŸ“‹ ç›®å½•

1. [éœ€æ±‚åˆ†æ](#éœ€æ±‚åˆ†æ)
2. [æŠ€æœ¯æ–¹æ¡ˆ](#æŠ€æœ¯æ–¹æ¡ˆ)
3. [è¯¦ç»†å¼€å‘è®¡åˆ’](#è¯¦ç»†å¼€å‘è®¡åˆ’)
4. [ä»»åŠ¡åˆ†è§£](#ä»»åŠ¡åˆ†è§£)
5. [é‡Œç¨‹ç¢‘å®šä¹‰](#é‡Œç¨‹ç¢‘å®šä¹‰)
6. [é£é™©ç®¡ç†](#é£é™©ç®¡ç†)

---

## éœ€æ±‚åˆ†æ

### æ ¸å¿ƒéœ€æ±‚

#### 1ï¸âƒ£ è‡ªåŠ¨é“¾è¯†åˆ«å’Œåˆ‡æ¢

**éœ€æ±‚æè¿°**:
- ç”¨æˆ·è®¿é—®ä»£å¸é¡µé¢æ—¶ï¼Œæ’ä»¶è‡ªåŠ¨è¯†åˆ«è¯¥ä»£å¸å±äºå“ªæ¡é“¾ï¼ˆBSC æˆ– Solanaï¼‰
- è‡ªåŠ¨è¯†åˆ«äº¤æ˜“å¹³å°ï¼ˆPancakeSwap, Four.meme, Jupiter, Raydium ç­‰ï¼‰
- è‡ªåŠ¨åˆ‡æ¢åˆ°å¯¹åº”çš„é“¾å’Œ DEX
- ç”¨æˆ·æ— éœ€æ‰‹åŠ¨é€‰æ‹©é“¾

**å®ç°è¦ç‚¹**:
- URL æ¨¡å¼åŒ¹é…
- åˆçº¦åœ°å€æ ¼å¼è¯†åˆ«
- äº¤æ˜“å¹³å°ç‰¹å¾æ£€æµ‹
- è‡ªåŠ¨é’±åŒ…åˆ‡æ¢

#### 2ï¸âƒ£ åŒé’±åŒ…ç®¡ç†

**éœ€æ±‚æè¿°**:
- ç”¨æˆ·å¯ä»¥åˆ†åˆ«å¯¼å…¥ä¸€ä¸ª BSC é’±åŒ…å’Œä¸€ä¸ª Solana é’±åŒ…
- æ”¯æŒç‹¬ç«‹çš„ç§é’¥/åŠ©è®°è¯å¯¼å…¥
- åˆ‡æ¢åˆ°æŸé“¾æ—¶ï¼Œå¦‚æœæœªå¯¼å…¥è¯¥é“¾é’±åŒ…ï¼Œæ˜¾ç¤ºå¯¼å…¥æç¤º
- ä¸¤ä¸ªé’±åŒ…ç‹¬ç«‹åŠ å¯†å­˜å‚¨

**å®ç°è¦ç‚¹**:
- é’±åŒ…çŠ¶æ€ç®¡ç†ï¼š`{ bsc?: Wallet, solana?: Wallet }`
- é’±åŒ…å¯¼å…¥æµç¨‹åˆ†ç¦»
- é’±åŒ…é”å®š/è§£é”åˆ†ç¦»
- å¯¼å…¥æç¤º UI

#### 3ï¸âƒ£ é…ç½®ç•Œé¢ä¼˜åŒ–

**éœ€æ±‚æè¿°**:
- ç³»ç»Ÿé…ç½®éœ€è¦æ”¯æŒ Solana RPC èŠ‚ç‚¹é…ç½®
- å…¶ä»– Solana ç‰¹å®šé…ç½®ï¼ˆä»ä¸“ä¸šè§’åº¦å»ºè®®ï¼‰
- é…ç½®ç•Œé¢éœ€è¦æ¸…æ™°åŒºåˆ† BSC å’Œ Solana è®¾ç½®

**Solana é…ç½®é¡¹ï¼ˆä¸“ä¸šå»ºè®®ï¼‰**:

| é…ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ | é‡è¦æ€§ |
|--------|------|--------|--------|
| **RPC èŠ‚ç‚¹** | ä¸»èŠ‚ç‚¹ + å¤‡ç”¨èŠ‚ç‚¹åˆ—è¡¨ | Mainnet-beta | â­â­â­â­â­ |
| **Commitment Level** | äº¤æ˜“ç¡®è®¤çº§åˆ« | `confirmed` | â­â­â­â­ |
| **Priority Fee** | é»˜è®¤ä¼˜å…ˆè´¹ | 0 Lamports | â­â­â­â­ |
| **Compute Unit Limit** | è®¡ç®—å•å…ƒä¸Šé™ | Auto | â­â­â­ |
| **Skip Preflight** | è·³è¿‡é¢„æ£€æŸ¥ï¼ˆåŠ é€Ÿï¼‰ | false | â­â­â­ |
| **Max Retries** | æœ€å¤§é‡è¯•æ¬¡æ•° | 3 | â­â­â­ |
| **WebSocket** | å®æ—¶æ•°æ®è®¢é˜… | å¯ç”¨ | â­â­ |
| **Jito MEV** | MEV ä¿æŠ¤ï¼ˆé«˜çº§ï¼‰ | ç¦ç”¨ | â­â­ |

---

## æŠ€æœ¯æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1: è‡ªåŠ¨é“¾è¯†åˆ«

#### 1.1 URL æ¨¡å¼è¯†åˆ«

```typescript
// src/shared/chain-detector.ts

type ChainDetectionResult = {
  chain: ChainType;
  platform: string;
  confidence: number; // 0-1
};

const CHAIN_PATTERNS = {
  bsc: [
    {
      pattern: /gmgn\.ai\/.*\/token\/0x[a-fA-F0-9]{40}/,
      platform: 'gmgn',
      confidence: 1.0
    },
    {
      pattern: /web3\.binance\.com\/.*\/token\/0x[a-fA-F0-9]{40}/,
      platform: 'binance',
      confidence: 1.0
    },
    {
      pattern: /four\.meme\/token\/0x[a-fA-F0-9]{40}/,
      platform: 'four',
      confidence: 1.0
    },
    {
      pattern: /flap\.sh\/.*/,
      platform: 'flap',
      confidence: 0.9
    }
  ],
  solana: [
    {
      pattern: /gmgn\.ai\/sol\/token\/[1-9A-HJ-NP-Za-km-z]{32,44}/,
      platform: 'gmgn',
      confidence: 1.0
    },
    {
      pattern: /pump\.fun\/[1-9A-HJ-NP-Za-km-z]{32,44}/,
      platform: 'pumpfun',
      confidence: 1.0
    },
    {
      pattern: /raydium\.io\/.*\/[1-9A-HJ-NP-Za-km-z]{32,44}/,
      platform: 'raydium',
      confidence: 1.0
    },
    {
      pattern: /jup\.ag\/.*\/[1-9A-HJ-NP-Za-km-z]{32,44}/,
      platform: 'jupiter',
      confidence: 1.0
    }
  ]
};

export function detectChainFromUrl(url: string): ChainDetectionResult | null {
  // éå†æ‰€æœ‰é“¾çš„æ¨¡å¼
  for (const [chain, patterns] of Object.entries(CHAIN_PATTERNS)) {
    for (const { pattern, platform, confidence } of patterns) {
      if (pattern.test(url)) {
        return {
          chain: chain as ChainType,
          platform,
          confidence
        };
      }
    }
  }

  return null;
}
```

#### 1.2 åˆçº¦åœ°å€è¯†åˆ«

```typescript
// src/shared/chain-detector.ts

export function detectChainFromAddress(address: string): ChainType | null {
  // EVM åœ°å€æ ¼å¼: 0x + 40 hex chars
  if (/^0x[a-fA-F0-9]{40}$/.test(address)) {
    return 'bsc';
  }

  // Solana åœ°å€æ ¼å¼: Base58, 32-44 chars
  if (/^[1-9A-HJ-NP-Za-km-z]{32,44}$/.test(address)) {
    try {
      // éªŒè¯æ˜¯å¦ä¸ºæœ‰æ•ˆçš„ Solana å…¬é’¥
      new PublicKey(address);
      return 'solana';
    } catch {
      return null;
    }
  }

  return null;
}
```

#### 1.3 é¡µé¢å†…å®¹æ£€æµ‹

```typescript
// src/content/index.ts

async function detectChainFromPage(): Promise<ChainDetectionResult | null> {
  // 1. å…ˆå°è¯• URL æ£€æµ‹
  const urlResult = detectChainFromUrl(window.location.href);
  if (urlResult && urlResult.confidence >= 0.9) {
    return urlResult;
  }

  // 2. æå–é¡µé¢ä¸­çš„åˆçº¦åœ°å€
  const addresses = extractAddressesFromPage();

  for (const address of addresses) {
    const chain = detectChainFromAddress(address);
    if (chain) {
      return {
        chain,
        platform: 'unknown',
        confidence: 0.7
      };
    }
  }

  // 3. æ£€æµ‹é¡µé¢ç‰¹å¾ï¼ˆDOM ç»“æ„ã€ç‰¹å®šæ–‡æœ¬ç­‰ï¼‰
  const pageFeatures = analyzePageFeatures();
  if (pageFeatures.chain) {
    return pageFeatures;
  }

  return null;
}

function extractAddressesFromPage(): string[] {
  const addresses: string[] = [];

  // ä» DOM ä¸­æå–åœ°å€
  const textContent = document.body.innerText;

  // EVM åœ°å€
  const evmMatches = textContent.match(/0x[a-fA-F0-9]{40}/g);
  if (evmMatches) {
    addresses.push(...evmMatches);
  }

  // Solana åœ°å€
  const solanaMatches = textContent.match(/[1-9A-HJ-NP-Za-km-z]{32,44}/g);
  if (solanaMatches) {
    addresses.push(...solanaMatches);
  }

  return addresses;
}
```

#### 1.4 è‡ªåŠ¨åˆ‡æ¢é€»è¾‘

```typescript
// src/background/chain-manager.ts

export class ChainManager {
  private currentChain: ChainType = 'bsc';
  private walletManager: WalletManager;

  async switchChain(
    newChain: ChainType,
    options: { auto?: boolean } = {}
  ): Promise<boolean> {
    // 1. æ£€æŸ¥æ˜¯å¦å·²å¯¼å…¥è¯¥é“¾é’±åŒ…
    const hasWallet = this.walletManager.hasWallet(newChain);

    if (!hasWallet) {
      // å‘é€æ¶ˆæ¯åˆ° UIï¼Œæ˜¾ç¤ºå¯¼å…¥æç¤º
      chrome.runtime.sendMessage({
        action: 'show_wallet_import_prompt',
        data: { chain: newChain }
      });
      return false;
    }

    // 2. åˆ‡æ¢é“¾
    this.currentChain = newChain;

    // 3. é€šçŸ¥æ‰€æœ‰ç›¸å…³ç»„ä»¶
    chrome.runtime.sendMessage({
      action: 'chain_switched',
      data: {
        chain: newChain,
        auto: options.auto || false
      }
    });

    // 4. æ›´æ–° UI çŠ¶æ€
    await this.updateUIState(newChain);

    return true;
  }

  private async updateUIState(chain: ChainType) {
    // è·å–è¯¥é“¾çš„é’±åŒ…åœ°å€å’Œä½™é¢
    const wallet = this.walletManager.getWallet(chain);
    if (!wallet) return;

    const adapter = getChainAdapter(chain);
    const balance = await adapter.getBalance(wallet.address);

    // æ›´æ–°å­˜å‚¨
    await chrome.storage.local.set({
      currentChain: chain,
      currentAddress: wallet.address,
      currentBalance: balance
    });
  }
}
```

---

### æ–¹æ¡ˆ 2: åŒé’±åŒ…ç®¡ç†

#### 2.1 é’±åŒ…æ•°æ®ç»“æ„

```typescript
// src/shared/wallet-types.ts

export type WalletState = {
  bsc?: BscWallet;
  solana?: SolanaWallet;
};

export type BscWallet = {
  address: string;
  encrypted: string; // AES åŠ å¯†çš„ç§é’¥
  createdAt: number;
  lastUsed: number;
};

export type SolanaWallet = {
  publicKey: string;
  encrypted: string; // AES åŠ å¯†çš„ secret key
  createdAt: number;
  lastUsed: number;
};

export type WalletStatus = {
  chain: ChainType;
  imported: boolean;
  locked: boolean;
  address?: string;
};
```

#### 2.2 é’±åŒ…ç®¡ç†å™¨

```typescript
// src/background/wallet-manager.ts

export class WalletManager {
  private wallets: WalletState = {};
  private unlockedKeys: Map<ChainType, any> = new Map();

  /**
   * å¯¼å…¥ BSC é’±åŒ…
   */
  async importBscWallet(privateKey: string, password: string): Promise<string> {
    // 1. éªŒè¯ç§é’¥æ ¼å¼
    if (!/^0x[a-fA-F0-9]{64}$/.test(privateKey)) {
      throw new Error('Invalid BSC private key format');
    }

    // 2. æ´¾ç”Ÿåœ°å€
    const account = privateKeyToAccount(privateKey as `0x${string}`);
    const address = account.address;

    // 3. åŠ å¯†ç§é’¥
    const encrypted = await this.encrypt(privateKey, password);

    // 4. ä¿å­˜
    this.wallets.bsc = {
      address,
      encrypted,
      createdAt: Date.now(),
      lastUsed: Date.now()
    };

    await this.saveWallets();

    return address;
  }

  /**
   * å¯¼å…¥ Solana é’±åŒ…
   */
  async importSolanaWallet(
    secretKeyOrMnemonic: string,
    password: string
  ): Promise<string> {
    let keypair: Keypair;

    // 1. åˆ¤æ–­è¾“å…¥æ ¼å¼
    if (secretKeyOrMnemonic.includes(' ')) {
      // åŠ©è®°è¯
      const seed = await mnemonicToSeed(secretKeyOrMnemonic);
      const derivedSeed = derivePath("m/44'/501'/0'/0'", seed.toString('hex')).key;
      keypair = Keypair.fromSeed(derivedSeed);
    } else {
      // Base58 ç§é’¥
      try {
        const secretKey = bs58.decode(secretKeyOrMnemonic);
        keypair = Keypair.fromSecretKey(secretKey);
      } catch {
        throw new Error('Invalid Solana secret key or mnemonic');
      }
    }

    // 2. è·å–å…¬é’¥
    const publicKey = keypair.publicKey.toBase58();

    // 3. åŠ å¯†ç§é’¥
    const secretKeyBase58 = bs58.encode(keypair.secretKey);
    const encrypted = await this.encrypt(secretKeyBase58, password);

    // 4. ä¿å­˜
    this.wallets.solana = {
      publicKey,
      encrypted,
      createdAt: Date.now(),
      lastUsed: Date.now()
    };

    await this.saveWallets();

    return publicKey;
  }

  /**
   * è§£é”é’±åŒ…
   */
  async unlockWallet(chain: ChainType, password: string): Promise<boolean> {
    const wallet = this.wallets[chain];
    if (!wallet) {
      throw new Error(`${chain} wallet not imported`);
    }

    try {
      // è§£å¯†ç§é’¥
      const decrypted = await this.decrypt(wallet.encrypted, password);

      // éªŒè¯å¹¶ä¿å­˜åˆ°å†…å­˜
      if (chain === 'bsc') {
        const account = privateKeyToAccount(decrypted as `0x${string}`);
        this.unlockedKeys.set(chain, account);
      } else if (chain === 'solana') {
        const secretKey = bs58.decode(decrypted);
        const keypair = Keypair.fromSecretKey(secretKey);
        this.unlockedKeys.set(chain, keypair);
      }

      return true;
    } catch (error) {
      throw new Error('Invalid password');
    }
  }

  /**
   * é”å®šé’±åŒ…
   */
  lockWallet(chain: ChainType): void {
    this.unlockedKeys.delete(chain);
  }

  /**
   * æ£€æŸ¥æ˜¯å¦å·²å¯¼å…¥é’±åŒ…
   */
  hasWallet(chain: ChainType): boolean {
    return !!this.wallets[chain];
  }

  /**
   * æ£€æŸ¥é’±åŒ…æ˜¯å¦å·²è§£é”
   */
  isUnlocked(chain: ChainType): boolean {
    return this.unlockedKeys.has(chain);
  }

  /**
   * è·å–é’±åŒ…çŠ¶æ€
   */
  getWalletStatus(chain: ChainType): WalletStatus {
    const wallet = this.wallets[chain];
    return {
      chain,
      imported: !!wallet,
      locked: !this.isUnlocked(chain),
      address: wallet?.address || wallet?.publicKey
    };
  }

  /**
   * è·å–æ‰€æœ‰é’±åŒ…çŠ¶æ€
   */
  getAllWalletStatus(): Record<ChainType, WalletStatus> {
    return {
      bsc: this.getWalletStatus('bsc'),
      solana: this.getWalletStatus('solana')
    };
  }

  // ç§æœ‰æ–¹æ³•
  private async encrypt(data: string, password: string): Promise<string> {
    // ä½¿ç”¨ AES-256-GCM åŠ å¯†
    const key = await this.deriveKey(password);
    // ... åŠ å¯†å®ç°
  }

  private async decrypt(encrypted: string, password: string): Promise<string> {
    const key = await this.deriveKey(password);
    // ... è§£å¯†å®ç°
  }

  private async saveWallets(): Promise<void> {
    await chrome.storage.local.set({
      wallets: this.wallets
    });
  }
}
```

#### 2.3 å¯¼å…¥æç¤º UI

```tsx
// src/ui/components/WalletImportPrompt.tsx

export function WalletImportPrompt({
  chain,
  onImport,
  onCancel
}: {
  chain: ChainType;
  onImport: () => void;
  onCancel: () => void;
}) {
  const chainName = chain === 'bsc' ? 'BSC' : 'Solana';

  return (
    <div className="wallet-import-prompt">
      <div className="prompt-icon">
        <ChainIcon chain={chain} size="large" />
      </div>

      <h3>éœ€è¦å¯¼å…¥ {chainName} é’±åŒ…</h3>

      <p>
        å½“å‰é¡µé¢çš„ä»£å¸åœ¨ {chainName} é“¾ä¸Šï¼Œ
        ä½†æ‚¨è¿˜æ²¡æœ‰å¯¼å…¥ {chainName} é’±åŒ…ã€‚
      </p>

      <div className="prompt-actions">
        <button className="btn-secondary" onClick={onCancel}>
          å–æ¶ˆ
        </button>
        <button className="btn-primary" onClick={onImport}>
          ç«‹å³å¯¼å…¥
        </button>
      </div>
    </div>
  );
}
```

---

### æ–¹æ¡ˆ 3: Solana é…ç½®ç®¡ç†

#### 3.1 é…ç½®ç±»å‹å®šä¹‰

```typescript
// src/shared/solana-config-types.ts

export type SolanaSystemSettings = {
  // RPC èŠ‚ç‚¹é…ç½®
  rpc: {
    primaryNode: string;
    fallbackNodes: string[];
    timeout: number;
    maxRetries: number;
  };

  // äº¤æ˜“é…ç½®
  transaction: {
    commitment: 'processed' | 'confirmed' | 'finalized';
    skipPreflight: boolean;
    maxRetries: number;
    preflightCommitment: 'processed' | 'confirmed' | 'finalized';
  };

  // è´¹ç”¨é…ç½®
  fee: {
    defaultPriorityFee: number; // Lamports
    priorityFeePresets: {
      none: number;
      low: number;
      medium: number;
      high: number;
      veryHigh: number;
    };
    computeUnitLimit: number | 'auto';
    computeUnitPrice: number; // micro-lamports
  };

  // WebSocket é…ç½®
  websocket: {
    enabled: boolean;
    url: string;
    reconnectDelay: number;
    maxReconnectAttempts: number;
  };

  // é«˜çº§åŠŸèƒ½
  advanced: {
    enableJitoMev: boolean;
    jitoTipAccount?: string;
    jitoTipAmount?: number; // Lamports
    slippageBps: number; // é»˜è®¤æ»‘ç‚¹ (basis points)
    enableVersionedTx: boolean; // æ”¯æŒ Transaction v0
  };
};

export const DEFAULT_SOLANA_SETTINGS: SolanaSystemSettings = {
  rpc: {
    primaryNode: 'https://api.mainnet-beta.solana.com',
    fallbackNodes: [
      'https://solana-api.projectserum.com',
      'https://rpc.ankr.com/solana'
    ],
    timeout: 10000,
    maxRetries: 3
  },

  transaction: {
    commitment: 'confirmed',
    skipPreflight: false,
    maxRetries: 3,
    preflightCommitment: 'confirmed'
  },

  fee: {
    defaultPriorityFee: 0,
    priorityFeePresets: {
      none: 0,
      low: 10000,        // 0.00001 SOL
      medium: 50000,     // 0.00005 SOL
      high: 100000,      // 0.0001 SOL
      veryHigh: 500000   // 0.0005 SOL
    },
    computeUnitLimit: 'auto',
    computeUnitPrice: 1 // micro-lamports per CU
  },

  websocket: {
    enabled: true,
    url: 'wss://api.mainnet-beta.solana.com',
    reconnectDelay: 2000,
    maxReconnectAttempts: 5
  },

  advanced: {
    enableJitoMev: false,
    slippageBps: 50, // 0.5%
    enableVersionedTx: true
  }
};
```

#### 3.2 é…ç½® UI

```tsx
// src/sidepanel/SolanaSettings.tsx

export function SolanaSettingsPanel() {
  const [settings, setSettings] = useState<SolanaSystemSettings>(
    DEFAULT_SOLANA_SETTINGS
  );

  return (
    <div className="settings-panel solana">
      <h2>Solana ç³»ç»Ÿé…ç½®</h2>

      {/* RPC èŠ‚ç‚¹è®¾ç½® */}
      <section className="settings-section">
        <h3>RPC èŠ‚ç‚¹</h3>

        <div className="setting-field">
          <label>ä¸»èŠ‚ç‚¹</label>
          <input
            type="text"
            value={settings.rpc.primaryNode}
            onChange={(e) => updateSetting('rpc.primaryNode', e.target.value)}
            placeholder="https://api.mainnet-beta.solana.com"
          />
        </div>

        <div className="setting-field">
          <label>å¤‡ç”¨èŠ‚ç‚¹</label>
          <RpcNodeList
            nodes={settings.rpc.fallbackNodes}
            onChange={(nodes) => updateSetting('rpc.fallbackNodes', nodes)}
          />
        </div>

        <div className="setting-row">
          <div className="setting-field">
            <label>è¶…æ—¶æ—¶é—´ (ms)</label>
            <input
              type="number"
              value={settings.rpc.timeout}
              onChange={(e) => updateSetting('rpc.timeout', parseInt(e.target.value))}
            />
          </div>

          <div className="setting-field">
            <label>æœ€å¤§é‡è¯•æ¬¡æ•°</label>
            <input
              type="number"
              value={settings.rpc.maxRetries}
              onChange={(e) => updateSetting('rpc.maxRetries', parseInt(e.target.value))}
            />
          </div>
        </div>
      </section>

      {/* äº¤æ˜“è®¾ç½® */}
      <section className="settings-section">
        <h3>äº¤æ˜“é…ç½®</h3>

        <div className="setting-field">
          <label>ç¡®è®¤çº§åˆ«</label>
          <select
            value={settings.transaction.commitment}
            onChange={(e) => updateSetting('transaction.commitment', e.target.value)}
          >
            <option value="processed">Processed (æœ€å¿«)</option>
            <option value="confirmed">Confirmed (æ¨è)</option>
            <option value="finalized">Finalized (æœ€å®‰å…¨)</option>
          </select>
          <small className="hint">
            Processed: ~400ms | Confirmed: ~13s | Finalized: ~32s
          </small>
        </div>

        <div className="setting-field">
          <label>
            <input
              type="checkbox"
              checked={settings.transaction.skipPreflight}
              onChange={(e) => updateSetting('transaction.skipPreflight', e.target.checked)}
            />
            è·³è¿‡é¢„æ£€æŸ¥ (åŠ é€Ÿäº¤æ˜“ï¼Œä½†å¯èƒ½å¤±è´¥)
          </label>
        </div>
      </section>

      {/* è´¹ç”¨è®¾ç½® */}
      <section className="settings-section">
        <h3>è´¹ç”¨é…ç½®</h3>

        <div className="setting-field">
          <label>é»˜è®¤ä¼˜å…ˆè´¹</label>
          <div className="priority-fee-selector">
            {Object.entries(settings.fee.priorityFeePresets).map(([level, amount]) => (
              <button
                key={level}
                className={settings.fee.defaultPriorityFee === amount ? 'active' : ''}
                onClick={() => updateSetting('fee.defaultPriorityFee', amount)}
              >
                {level}
                <small>{(amount / 1e9).toFixed(6)} SOL</small>
              </button>
            ))}
          </div>
        </div>

        <div className="setting-field">
          <label>è‡ªå®šä¹‰ä¼˜å…ˆè´¹ (Lamports)</label>
          <input
            type="number"
            value={settings.fee.defaultPriorityFee}
            onChange={(e) => updateSetting('fee.defaultPriorityFee', parseInt(e.target.value))}
          />
          <small className="hint">
            1 SOL = 1,000,000,000 Lamports
          </small>
        </div>
      </section>

      {/* WebSocket è®¾ç½® */}
      <section className="settings-section">
        <h3>WebSocket é…ç½®</h3>

        <div className="setting-field">
          <label>
            <input
              type="checkbox"
              checked={settings.websocket.enabled}
              onChange={(e) => updateSetting('websocket.enabled', e.target.checked)}
            />
            å¯ç”¨ WebSocket å®æ—¶æ•°æ®
          </label>
        </div>

        {settings.websocket.enabled && (
          <div className="setting-field">
            <label>WebSocket URL</label>
            <input
              type="text"
              value={settings.websocket.url}
              onChange={(e) => updateSetting('websocket.url', e.target.value)}
            />
          </div>
        )}
      </section>

      {/* é«˜çº§è®¾ç½® */}
      <section className="settings-section">
        <h3>é«˜çº§åŠŸèƒ½</h3>

        <div className="setting-field">
          <label>
            <input
              type="checkbox"
              checked={settings.advanced.enableJitoMev}
              onChange={(e) => updateSetting('advanced.enableJitoMev', e.target.checked)}
            />
            å¯ç”¨ Jito MEV ä¿æŠ¤
          </label>
          <small className="hint">
            é€šè¿‡ Jito æ†ç»‘äº¤æ˜“ï¼Œé˜²æ­¢è¢« MEV å¥—åˆ©ï¼ˆéœ€è¦é¢å¤–å°è´¹ï¼‰
          </small>
        </div>

        {settings.advanced.enableJitoMev && (
          <>
            <div className="setting-field">
              <label>Jito Tip é‡‘é¢ (Lamports)</label>
              <input
                type="number"
                value={settings.advanced.jitoTipAmount || 10000}
                onChange={(e) => updateSetting('advanced.jitoTipAmount', parseInt(e.target.value))}
              />
            </div>
          </>
        )}

        <div className="setting-field">
          <label>é»˜è®¤æ»‘ç‚¹ (%)</label>
          <input
            type="number"
            step="0.1"
            value={settings.advanced.slippageBps / 100}
            onChange={(e) => updateSetting('advanced.slippageBps', parseFloat(e.target.value) * 100)}
          />
        </div>
      </section>

      {/* ä¿å­˜æŒ‰é’® */}
      <div className="settings-actions">
        <button className="btn-secondary" onClick={resetToDefaults}>
          æ¢å¤é»˜è®¤
        </button>
        <button className="btn-primary" onClick={saveSettings}>
          ä¿å­˜é…ç½®
        </button>
      </div>
    </div>
  );
}
```

---

## è¯¦ç»†å¼€å‘è®¡åˆ’

### æ€»ä½“æ—¶é—´çº¿

```
Week 1-2:  åŸºç¡€æ¶æ„æ­å»º
Week 3-4:  åŒé’±åŒ…ç®¡ç†å®ç°
Week 5-6:  è‡ªåŠ¨é“¾è¯†åˆ«å’Œåˆ‡æ¢
Week 7:    Solana é…ç½®ç³»ç»Ÿ
Week 8:    æµ‹è¯•å’Œä¼˜åŒ–
Week 9-10: Beta æµ‹è¯•å’Œå‘å¸ƒå‡†å¤‡
```

---

### é˜¶æ®µä¸€: åŸºç¡€æ¶æ„æ­å»ºï¼ˆWeek 1-2ï¼‰

#### Week 1: ç±»å‹å®šä¹‰å’Œé…ç½®ç³»ç»Ÿ

**ä»»åŠ¡åˆ—è¡¨**:

- [ ] **Day 1-2**: åˆ›å»ºç±»å‹å®šä¹‰
  ```bash
  # åˆ›å»ºæ–‡ä»¶
  src/shared/chain-types.ts          # é“¾é€šç”¨ç±»å‹
  src/shared/wallet-types.ts         # é’±åŒ…ç±»å‹
  src/shared/chain-detector.ts       # é“¾æ£€æµ‹å·¥å…·
  src/config/chains/solana.config.ts # Solana é…ç½®
  ```

- [ ] **Day 2-3**: å®ç°é…ç½®ç³»ç»Ÿ
  ```typescript
  // src/shared/user-settings.ts æ‰©å±•
  export type UserSettings = {
    system: SystemSettings;
    trading: TradingSettings;
    chains: {
      bsc: BscChainSettings;
      solana: SolanaSystemSettings; // æ–°å¢
    };
    activeChain: ChainType;
    // ...
  };
  ```

- [ ] **Day 4-5**: åˆ›å»ºæŠ½è±¡å±‚æ¥å£
  ```bash
  src/shared/chain-adapter.ts  # ChainAdapter æ¥å£
  src/shared/dex-adapter.ts    # DexAdapter æ¥å£
  src/shared/rpc-manager.ts    # RpcManager æ¥å£
  ```

**éªŒæ”¶æ ‡å‡†**:
- âœ… æ‰€æœ‰ç±»å‹å®šä¹‰ç¼–è¯‘é€šè¿‡
- âœ… é…ç½®ç³»ç»Ÿå¯ä»¥è¯»å–å’Œä¿å­˜
- âœ… æ¥å£å®šä¹‰æ¸…æ™°ï¼Œæœ‰å®Œæ•´çš„ JSDoc

#### Week 2: EVM ä»£ç é‡æ„

**ä»»åŠ¡åˆ—è¡¨**:

- [ ] **Day 1-2**: åˆ›å»º EVM é€‚é…å™¨
  ```bash
  mkdir -p src/chains/evm
  mv src/shared/viem-helper.ts src/chains/evm/

  # åˆ›å»ºæ–°æ–‡ä»¶
  src/chains/evm/evm-adapter.ts
  src/chains/evm/evm-wallet.ts
  src/chains/evm/evm-rpc-manager.ts
  ```

- [ ] **Day 2-3**: åŒ…è£…ç°æœ‰ BSC é€»è¾‘åˆ° EVM é€‚é…å™¨
  ```typescript
  export class EvmChainAdapter implements ChainAdapter {
    // å°†ç°æœ‰çš„ publicClient, walletClient é€»è¾‘ç§»åŠ¨åˆ°è¿™é‡Œ
    // ä¿æŒæ¥å£ä¸€è‡´
  }
  ```

- [ ] **Day 4**: é‡æ„ Background ä½¿ç”¨é€‚é…å™¨
  ```typescript
  // src/background/index.ts
  import { EvmChainAdapter } from '../chains/evm/evm-adapter';

  const bscAdapter = new EvmChainAdapter(BSC_CONFIG);
  ```

- [ ] **Day 5**: å›å½’æµ‹è¯•
  - æµ‹è¯• BSC é’±åŒ…å¯¼å…¥
  - æµ‹è¯• PancakeSwap äº¤æ˜“
  - æµ‹è¯• Four.meme äº¤æ˜“
  - æµ‹è¯• Flap äº¤æ˜“

**éªŒæ”¶æ ‡å‡†**:
- âœ… æ‰€æœ‰ BSC åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- âœ… ä»£ç ç»“æ„æ¸…æ™°ï¼Œé€‚é…å™¨å±‚ç‹¬ç«‹
- âœ… æ—  Breaking Changes

---

### é˜¶æ®µäºŒ: åŒé’±åŒ…ç®¡ç†ï¼ˆWeek 3-4ï¼‰

#### Week 3: é’±åŒ…ç®¡ç†å™¨å®ç°

**ä»»åŠ¡åˆ—è¡¨**:

- [ ] **Day 1-2**: å®ç° WalletManager
  ```typescript
  // src/background/wallet-manager.ts
  export class WalletManager {
    async importBscWallet(privateKey, password) { }
    async importSolanaWallet(secretKey, password) { }
    async unlockWallet(chain, password) { }
    lockWallet(chain) { }
    hasWallet(chain) { }
    isUnlocked(chain) { }
    getAllWalletStatus() { }
  }
  ```

- [ ] **Day 2-3**: å®ç°åŠ å¯†å­˜å‚¨
  ```typescript
  // ä½¿ç”¨ Web Crypto API
  private async encrypt(data: string, password: string) {
    // PBKDF2 æ´¾ç”Ÿå¯†é’¥
    // AES-256-GCM åŠ å¯†
  }

  private async decrypt(encrypted: string, password: string) {
    // è§£å¯†å¹¶éªŒè¯
  }
  ```

- [ ] **Day 3-4**: é›†æˆåˆ° Background
  ```typescript
  // src/background/index.ts
  const walletManager = new WalletManager();

  // å¤„ç†æ¶ˆæ¯
  chrome.runtime.onMessage.addListener((msg) => {
    if (msg.action === 'import_bsc_wallet') { }
    if (msg.action === 'import_solana_wallet') { }
    if (msg.action === 'unlock_wallet') { }
    // ...
  });
  ```

- [ ] **Day 5**: å•å…ƒæµ‹è¯•
  - æµ‹è¯•é’±åŒ…å¯¼å…¥
  - æµ‹è¯•åŠ å¯†/è§£å¯†
  - æµ‹è¯•é’±åŒ…é”å®š/è§£é”

**éªŒæ”¶æ ‡å‡†**:
- âœ… å¯ä»¥åŒæ—¶å¯¼å…¥ BSC å’Œ Solana é’±åŒ…
- âœ… é’±åŒ…åŠ å¯†å­˜å‚¨å®‰å…¨
- âœ… é’±åŒ…çŠ¶æ€ç®¡ç†æ­£ç¡®

#### Week 4: é’±åŒ… UI å®ç°

**ä»»åŠ¡åˆ—è¡¨**:

- [ ] **Day 1-2**: Popup é’±åŒ…å¯¼å…¥ç•Œé¢
  ```tsx
  // src/popup/WalletImport.tsx
  <TabSelector tabs={['BSC', 'Solana']} />

  {activeTab === 'bsc' && (
    <BscWalletImport onImport={handleImportBsc} />
  )}

  {activeTab === 'solana' && (
    <SolanaWalletImport onImport={handleImportSol} />
  )}
  ```

- [ ] **Day 2-3**: é’±åŒ…çŠ¶æ€æ˜¾ç¤º
  ```tsx
  // src/popup/WalletStatus.tsx
  <WalletCard chain="bsc" status={bscStatus} />
  <WalletCard chain="solana" status={solanaStatus} />
  ```

- [ ] **Day 3-4**: å¯¼å…¥æç¤ºå¼¹çª—
  ```tsx
  // src/ui/components/WalletImportPrompt.tsx
  <Modal show={showPrompt}>
    <WalletImportPrompt
      chain={requiredChain}
      onImport={() => navigate('/import')}
      onCancel={() => setShowPrompt(false)}
    />
  </Modal>
  ```

- [ ] **Day 5**: UI æµ‹è¯•å’Œä¼˜åŒ–
  - å¯¼å…¥æµç¨‹æµ‹è¯•
  - äº¤äº’ä½“éªŒä¼˜åŒ–
  - é”™è¯¯æç¤ºå®Œå–„

**éªŒæ”¶æ ‡å‡†**:
- âœ… ç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°å¯¼å…¥ä¸¤ä¸ªé’±åŒ…
- âœ… é’±åŒ…çŠ¶æ€æ˜¾ç¤ºæ¸…æ™°
- âœ… å¯¼å…¥æç¤ºå‹å¥½

---

### é˜¶æ®µä¸‰: è‡ªåŠ¨é“¾è¯†åˆ«å’Œåˆ‡æ¢ï¼ˆWeek 5-6ï¼‰

#### Week 5: é“¾æ£€æµ‹å®ç°

**ä»»åŠ¡åˆ—è¡¨**:

- [ ] **Day 1-2**: å®ç°é“¾æ£€æµ‹é€»è¾‘
  ```typescript
  // src/shared/chain-detector.ts

  // URL æ¨¡å¼æ£€æµ‹
  detectChainFromUrl(url: string): ChainDetectionResult

  // åœ°å€æ ¼å¼æ£€æµ‹
  detectChainFromAddress(address: string): ChainType

  // é¡µé¢å†…å®¹æ£€æµ‹
  detectChainFromPage(): ChainDetectionResult
  ```

- [ ] **Day 2-3**: Content Script é›†æˆ
  ```typescript
  // src/content/index.ts

  // é¡µé¢åŠ è½½æ—¶æ£€æµ‹
  const detection = await detectChainFromPage();

  if (detection) {
    // å‘é€æ¶ˆæ¯åˆ° Background
    chrome.runtime.sendMessage({
      action: 'chain_detected',
      data: detection
    });
  }
  ```

- [ ] **Day 3-4**: å®ç° ChainManager
  ```typescript
  // src/background/chain-manager.ts
  export class ChainManager {
    async switchChain(chain: ChainType, options) {
      // æ£€æŸ¥é’±åŒ…
      // åˆ‡æ¢é€‚é…å™¨
      // æ›´æ–° UI
      // å‘é€é€šçŸ¥
    }
  }
  ```

- [ ] **Day 5**: æµ‹è¯•å’Œä¼˜åŒ–
  - æµ‹è¯•å„ç§ç½‘ç«™çš„æ£€æµ‹å‡†ç¡®æ€§
  - ä¼˜åŒ–æ£€æµ‹æ€§èƒ½
  - å¤„ç†è¾¹ç¼˜æƒ…å†µ

**éªŒæ”¶æ ‡å‡†**:
- âœ… è®¿é—® BSC ä»£å¸é¡µé¢è‡ªåŠ¨è¯†åˆ«ä¸º BSC
- âœ… è®¿é—® Solana ä»£å¸é¡µé¢è‡ªåŠ¨è¯†åˆ«ä¸º Solana
- âœ… æ£€æµ‹å‡†ç¡®ç‡ > 95%

#### Week 6: è‡ªåŠ¨åˆ‡æ¢å’Œ UI è”åŠ¨

**ä»»åŠ¡åˆ—è¡¨**:

- [ ] **Day 1-2**: Background åˆ‡æ¢é€»è¾‘
  ```typescript
  chrome.runtime.onMessage.addListener(async (msg) => {
    if (msg.action === 'chain_detected') {
      const { chain } = msg.data;

      // è‡ªåŠ¨åˆ‡æ¢
      const success = await chainManager.switchChain(chain, {
        auto: true
      });

      if (!success) {
        // æ˜¾ç¤ºå¯¼å…¥æç¤º
      }
    }
  });
  ```

- [ ] **Day 2-3**: UI å“åº”é“¾åˆ‡æ¢
  ```typescript
  // src/sidepanel/main.tsx
  chrome.runtime.onMessage.addListener((msg) => {
    if (msg.action === 'chain_switched') {
      const { chain } = msg.data;

      // æ›´æ–°å½“å‰é“¾
      setCurrentChain(chain);

      // åˆ·æ–°ä½™é¢
      refreshBalance(chain);

      // æ›´æ–° DEX åˆ—è¡¨
      updateDexList(chain);
    }
  });
  ```

- [ ] **Day 3-4**: é“¾åˆ‡æ¢åŠ¨ç”»å’Œåé¦ˆ
  ```tsx
  // æ˜¾ç¤ºåˆ‡æ¢æç¤º
  <Toast>
    <ChainIcon chain={newChain} />
    å·²åˆ‡æ¢åˆ° {newChain === 'bsc' ? 'BSC' : 'Solana'}
  </Toast>
  ```

- [ ] **Day 5**: ç«¯åˆ°ç«¯æµ‹è¯•
  - æµ‹è¯•è‡ªåŠ¨åˆ‡æ¢æµç¨‹
  - æµ‹è¯•æ‰‹åŠ¨åˆ‡æ¢
  - æµ‹è¯•æœªå¯¼å…¥é’±åŒ…åœºæ™¯
  - æµ‹è¯•é”™è¯¯å¤„ç†

**éªŒæ”¶æ ‡å‡†**:
- âœ… è®¿é—®ä»£å¸é¡µé¢æ—¶è‡ªåŠ¨åˆ‡æ¢é“¾
- âœ… UI å¹³æ»‘å“åº”é“¾åˆ‡æ¢
- âœ… æœªå¯¼å…¥é’±åŒ…æ—¶æ­£ç¡®æç¤º

---

### é˜¶æ®µå››: Solana é…ç½®ç³»ç»Ÿï¼ˆWeek 7ï¼‰

#### Week 7: Solana è®¾ç½®ç•Œé¢

**ä»»åŠ¡åˆ—è¡¨**:

- [ ] **Day 1-2**: åˆ›å»º Solana è®¾ç½®ç±»å‹å’Œé»˜è®¤å€¼
  ```typescript
  // src/shared/solana-config-types.ts
  export type SolanaSystemSettings = {
    rpc: { ... };
    transaction: { ... };
    fee: { ... };
    websocket: { ... };
    advanced: { ... };
  };
  ```

- [ ] **Day 2-4**: å®ç°è®¾ç½®ç•Œé¢
  ```tsx
  // src/sidepanel/SolanaSettings.tsx
  <SolanaSettingsPanel
    settings={solanaSettings}
    onChange={updateSettings}
    onSave={saveSettings}
  />
  ```

- [ ] **Day 4-5**: é›†æˆåˆ° UserSettings
  ```typescript
  // src/shared/user-settings.ts
  export type UserSettings = {
    // ...
    chains: {
      bsc: BscChainSettings;
      solana: SolanaSystemSettings;
    }
  };
  ```

**éªŒæ”¶æ ‡å‡†**:
- âœ… Solana é…ç½®ç•Œé¢å®Œæ•´
- âœ… é…ç½®å¯ä»¥æ­£ç¡®ä¿å­˜å’Œè¯»å–
- âœ… é‡ç½®åˆ°é»˜è®¤å€¼åŠŸèƒ½æ­£å¸¸

---

### é˜¶æ®µäº”: Solana åŸºç¡€åŠŸèƒ½ï¼ˆWeek 8ï¼‰

#### Week 8: Solana é€‚é…å™¨å’Œ RPC

**ä»»åŠ¡åˆ—è¡¨**:

- [ ] **Day 1-2**: å®‰è£…ä¾èµ–å’Œåˆ›å»ºåŸºç¡€ç»“æ„
  ```bash
  npm install @solana/web3.js @solana/spl-token bs58

  mkdir -p src/chains/solana
  mkdir -p src/dex/solana
  ```

- [ ] **Day 2-3**: å®ç° SolanaChainAdapter
  ```typescript
  // src/chains/solana/solana-adapter.ts
  export class SolanaChainAdapter implements ChainAdapter {
    async connect(rpcUrl: string) { }
    async getBalance(address: string) { }
    async sendTransaction(signedTx) { }
    async waitForConfirmation(txHash) { }
    // ...
  }
  ```

- [ ] **Day 3-4**: å®ç° SolanaRpcManager
  ```typescript
  // src/chains/solana/solana-rpc-manager.ts
  export class SolanaRpcManager implements RpcManager {
    async request(method, params) { }
    async switchToNextNode() { }
    // ...
  }
  ```

- [ ] **Day 4-5**: åŸºç¡€åŠŸèƒ½æµ‹è¯•
  - æµ‹è¯• Solana é’±åŒ…è¿æ¥
  - æµ‹è¯•ä½™é¢æŸ¥è¯¢
  - æµ‹è¯• SOL è½¬è´¦
  - æµ‹è¯• RPC èŠ‚ç‚¹åˆ‡æ¢

**éªŒæ”¶æ ‡å‡†**:
- âœ… Solana é’±åŒ…å¯ä»¥æ­£å¸¸å¯¼å…¥
- âœ… å¯ä»¥æŸ¥è¯¢ SOL å’Œ SPL Token ä½™é¢
- âœ… å¯ä»¥å‘é€ SOL è½¬è´¦
- âœ… RPC èŠ‚ç‚¹ç®¡ç†æ­£å¸¸

---

### é˜¶æ®µå…­: æµ‹è¯•å’Œä¼˜åŒ–ï¼ˆWeek 9-10ï¼‰

#### Week 9: å…¨é¢æµ‹è¯•

**æµ‹è¯•æ¸…å•**:

**åŠŸèƒ½æµ‹è¯•**:
- [ ] BSC é’±åŒ…å¯¼å…¥/è§£é”/é”å®š
- [ ] Solana é’±åŒ…å¯¼å…¥/è§£é”/é”å®š
- [ ] åŒé’±åŒ…åŒæ—¶ç®¡ç†
- [ ] è‡ªåŠ¨é“¾æ£€æµ‹ï¼ˆgmgn.ai BSC/Solanaï¼‰
- [ ] è‡ªåŠ¨é“¾åˆ‡æ¢
- [ ] æœªå¯¼å…¥é’±åŒ…æç¤º
- [ ] BSC DEX äº¤æ˜“ï¼ˆPancakeSwap, Four, Flapï¼‰
- [ ] Solana åŸºç¡€è½¬è´¦
- [ ] é…ç½®ä¿å­˜å’Œè¯»å–
- [ ] RPC èŠ‚ç‚¹åˆ‡æ¢

**å®‰å…¨æµ‹è¯•**:
- [ ] ç§é’¥åŠ å¯†å¼ºåº¦
- [ ] å†…å­˜ä¸­ç§é’¥æ¸…ç†
- [ ] XSS é˜²æŠ¤
- [ ] è¾“å…¥éªŒè¯

**æ€§èƒ½æµ‹è¯•**:
- [ ] é“¾æ£€æµ‹é€Ÿåº¦
- [ ] åˆ‡æ¢é“¾å“åº”æ—¶é—´
- [ ] RPC è¯·æ±‚å»¶è¿Ÿ
- [ ] å†…å­˜å ç”¨

**å…¼å®¹æ€§æµ‹è¯•**:
- [ ] Chrome ç‰ˆæœ¬å…¼å®¹æ€§
- [ ] ä¸åŒç½‘ç«™å…¼å®¹æ€§
- [ ] é•¿æ—¶é—´è¿è¡Œç¨³å®šæ€§

#### Week 10: Beta æµ‹è¯•å’Œå‘å¸ƒå‡†å¤‡

**ä»»åŠ¡åˆ—è¡¨**:

- [ ] **Day 1-2**: ä¿®å¤ Beta æµ‹è¯•å‘ç°çš„é—®é¢˜
- [ ] **Day 2-3**: æ€§èƒ½ä¼˜åŒ–
  - RPC è¯·æ±‚ç¼“å­˜
  - é“¾æ£€æµ‹å»æŠ–
  - UI æ¸²æŸ“ä¼˜åŒ–
- [ ] **Day 3-4**: æ–‡æ¡£ç¼–å†™
  - ç”¨æˆ·ä½¿ç”¨æŒ‡å—
  - å¼€å‘è€…æ–‡æ¡£
  - ç‰ˆæœ¬å‘å¸ƒè¯´æ˜
- [ ] **Day 5**: å‡†å¤‡å‘å¸ƒ
  - æ„å»ºç”Ÿäº§ç‰ˆæœ¬
  - æ›´æ–° manifest.json
  - å‡†å¤‡ release notes

**éªŒæ”¶æ ‡å‡†**:
- âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡
- âœ… æ— ä¸¥é‡ Bug
- âœ… æ–‡æ¡£å®Œæ•´
- âœ… å‡†å¤‡å¥½å‘å¸ƒ

---

## ä»»åŠ¡åˆ†è§£

### æŒ‰ä¼˜å…ˆçº§æ’åº

#### P0 - å¿…é¡»å®Œæˆï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰

1. **åŒé’±åŒ…ç®¡ç†** - Week 3-4
   - é’±åŒ…å¯¼å…¥ï¼ˆBSC + Solanaï¼‰
   - åŠ å¯†å­˜å‚¨
   - é”å®š/è§£é”

2. **è‡ªåŠ¨é“¾è¯†åˆ«** - Week 5
   - URL æ¨¡å¼åŒ¹é…
   - åœ°å€æ ¼å¼è¯†åˆ«
   - é¡µé¢å†…å®¹æ£€æµ‹

3. **è‡ªåŠ¨é“¾åˆ‡æ¢** - Week 6
   - ChainManager
   - åˆ‡æ¢é€»è¾‘
   - UI å“åº”

4. **Solana åŸºç¡€é€‚é…å™¨** - Week 8
   - è¿æ¥å’Œ RPC
   - ä½™é¢æŸ¥è¯¢
   - è½¬è´¦åŠŸèƒ½

#### P1 - åº”è¯¥å®Œæˆï¼ˆé‡è¦åŠŸèƒ½ï¼‰

1. **å¯¼å…¥æç¤º UI** - Week 4
   - æœªå¯¼å…¥é’±åŒ…æç¤º
   - å¯¼å…¥å¼•å¯¼æµç¨‹

2. **Solana é…ç½®ç³»ç»Ÿ** - Week 7
   - RPC èŠ‚ç‚¹é…ç½®
   - äº¤æ˜“å‚æ•°é…ç½®
   - è´¹ç”¨é…ç½®

3. **é“¾åˆ‡æ¢åŠ¨ç”»** - Week 6
   - åˆ‡æ¢æç¤º
   - å¹³æ»‘è¿‡æ¸¡

#### P2 - å¯ä»¥å®Œæˆï¼ˆå¢å¼ºåŠŸèƒ½ï¼‰

1. **Jito MEV ä¿æŠ¤** - Week 10ï¼ˆå¦‚æœ‰æ—¶é—´ï¼‰
2. **WebSocket å®æ—¶æ•°æ®** - Week 10ï¼ˆå¦‚æœ‰æ—¶é—´ï¼‰
3. **é«˜çº§è´¹ç”¨æ§åˆ¶** - Week 10ï¼ˆå¦‚æœ‰æ—¶é—´ï¼‰

---

## é‡Œç¨‹ç¢‘å®šä¹‰

### Milestone 1: åŸºç¡€æ¶æ„å®Œæˆï¼ˆWeek 2 æœ«ï¼‰
- âœ… ç±»å‹å®šä¹‰å®Œæ•´
- âœ… é…ç½®ç³»ç»Ÿå¯ç”¨
- âœ… EVM ä»£ç é‡æ„å®Œæˆ
- âœ… BSC åŠŸèƒ½å›å½’æµ‹è¯•é€šè¿‡
- **å‘å¸ƒ**: v1.3.0-alphaï¼ˆå†…éƒ¨æµ‹è¯•ï¼‰

### Milestone 2: åŒé’±åŒ…ç®¡ç†å®Œæˆï¼ˆWeek 4 æœ«ï¼‰
- âœ… å¯ä»¥å¯¼å…¥ BSC å’Œ Solana é’±åŒ…
- âœ… é’±åŒ…çŠ¶æ€æ˜¾ç¤ºæ­£å¸¸
- âœ… å¯¼å…¥æç¤º UI å®Œæˆ
- **å‘å¸ƒ**: v1.3.0-beta1ï¼ˆç§æœ‰æµ‹è¯•ï¼‰

### Milestone 3: è‡ªåŠ¨åˆ‡æ¢å®Œæˆï¼ˆWeek 6 æœ«ï¼‰
- âœ… è‡ªåŠ¨é“¾è¯†åˆ«æ­£å¸¸
- âœ… è‡ªåŠ¨åˆ‡æ¢æµç¨‹å®Œæ•´
- âœ… UI è”åŠ¨æ­£å¸¸
- **å‘å¸ƒ**: v1.3.0-beta2ï¼ˆå°èŒƒå›´æµ‹è¯•ï¼‰

### Milestone 4: Solana åŸºç¡€åŠŸèƒ½å®Œæˆï¼ˆWeek 8 æœ«ï¼‰
- âœ… Solana é’±åŒ…å¯ç”¨
- âœ… Solana é…ç½®ç³»ç»Ÿå®Œæˆ
- âœ… Solana åŸºç¡€è½¬è´¦æ­£å¸¸
- **å‘å¸ƒ**: v1.3.0-rc1ï¼ˆå€™é€‰ç‰ˆæœ¬ï¼‰

### Milestone 5: æ­£å¼å‘å¸ƒï¼ˆWeek 10 æœ«ï¼‰
- âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡
- âœ… æ–‡æ¡£å®Œæ•´
- âœ… æ€§èƒ½ä¼˜åŒ–å®Œæˆ
- **å‘å¸ƒ**: v2.0.0ï¼ˆæ­£å¼ç‰ˆæœ¬ï¼‰

---

## é£é™©ç®¡ç†

### æŠ€æœ¯é£é™©

| é£é™© | æ¦‚ç‡ | å½±å“ | ç¼“è§£æªæ–½ | è´Ÿè´£äºº |
|------|------|------|----------|--------|
| **Solana SDK å­¦ä¹ æ›²çº¿** | é«˜ | ä¸­ | æå‰å­¦ä¹ æ–‡æ¡£ï¼Œå‚è€ƒç¤ºä¾‹é¡¹ç›® | å¼€å‘å›¢é˜Ÿ |
| **é“¾æ£€æµ‹å‡†ç¡®æ€§ä¸è¶³** | ä¸­ | é«˜ | å¤šç§æ£€æµ‹æ–¹å¼ç»“åˆï¼Œç”¨æˆ·åé¦ˆä¼˜åŒ– | æŠ€æœ¯è´Ÿè´£äºº |
| **é’±åŒ…åŠ å¯†å®‰å…¨é—®é¢˜** | ä½ | æé«˜ | ä½¿ç”¨æ ‡å‡†åŠ å¯†åº“ï¼Œå®‰å…¨å®¡è®¡ | å®‰å…¨ä¸“å®¶ |
| **RPC èŠ‚ç‚¹ä¸ç¨³å®š** | é«˜ | ä¸­ | å¤šèŠ‚ç‚¹å¤‡ä»½ï¼Œè‡ªåŠ¨åˆ‡æ¢ | å¼€å‘å›¢é˜Ÿ |
| **æ€§èƒ½é—®é¢˜** | ä¸­ | ä¸­ | æ€§èƒ½ç›‘æ§ï¼ŒåŠæ—¶ä¼˜åŒ– | å¼€å‘å›¢é˜Ÿ |

### è¿›åº¦é£é™©

| é£é™© | æ¦‚ç‡ | å½±å“ | ç¼“è§£æªæ–½ |
|------|------|------|----------|
| **å¼€å‘è¿›åº¦å»¶è¿Ÿ** | ä¸­ | é«˜ | æ¯å‘¨è¿›åº¦æ£€æŸ¥ï¼ŒåŠæ—¶è°ƒæ•´ |
| **æµ‹è¯•æ—¶é—´ä¸è¶³** | ä¸­ | é«˜ | å¹¶è¡Œå¼€å‘å’Œæµ‹è¯•ï¼Œæå‰æµ‹è¯• |
| **éœ€æ±‚å˜æ›´** | ä¸­ | ä¸­ | å†»ç»“æ ¸å¿ƒéœ€æ±‚ï¼Œåç»­è¿­ä»£ |

### è´¨é‡é£é™©

| é£é™© | æ¦‚ç‡ | å½±å“ | ç¼“è§£æªæ–½ |
|------|------|------|----------|
| **Bug é—æ¼** | ä¸­ | é«˜ | å……åˆ†æµ‹è¯•ï¼ŒBeta æµ‹è¯• |
| **ç”¨æˆ·ä½“éªŒå·®** | ä¸­ | ä¸­ | ç”¨æˆ·æµ‹è¯•ï¼Œåé¦ˆä¼˜åŒ– |
| **æ–‡æ¡£ä¸å®Œæ•´** | ä½ | ä¸­ | å¼€å‘åŒæ­¥å†™æ–‡æ¡£ |

---

## å¼€å‘è§„èŒƒ

### ä»£ç è§„èŒƒ

1. **TypeScript ä¸¥æ ¼æ¨¡å¼**
   - å¯ç”¨ `strict: true`
   - ç¦æ­¢ `any`ï¼ˆç‰¹æ®Šæƒ…å†µé™¤å¤–ï¼‰
   - å®Œæ•´çš„ç±»å‹å®šä¹‰

2. **å‘½åè§„èŒƒ**
   - æ–‡ä»¶åï¼škebab-caseï¼ˆ`chain-adapter.ts`ï¼‰
   - ç±»åï¼šPascalCaseï¼ˆ`ChainAdapter`ï¼‰
   - å‡½æ•°åï¼šcamelCaseï¼ˆ`getBalance`ï¼‰
   - å¸¸é‡ï¼šUPPER_SNAKE_CASEï¼ˆ`DEFAULT_SETTINGS`ï¼‰

3. **æ³¨é‡Šè§„èŒƒ**
   - æ‰€æœ‰å…¬å…± API å¿…é¡»æœ‰ JSDoc
   - å¤æ‚é€»è¾‘å¿…é¡»æœ‰è¡Œå†…æ³¨é‡Š
   - TODO æ³¨é‡ŠåŒ…å«è´Ÿè´£äººå’Œæ—¶é—´

### Git è§„èŒƒ

1. **åˆ†æ”¯ç­–ç•¥**
   - `main` - ç”Ÿäº§åˆ†æ”¯
   - `develop` - å¼€å‘åˆ†æ”¯
   - `feature/xxx` - åŠŸèƒ½åˆ†æ”¯
   - `fix/xxx` - ä¿®å¤åˆ†æ”¯

2. **Commit è§„èŒƒ**
   ```
   feat: æ·»åŠ  Solana é’±åŒ…å¯¼å…¥åŠŸèƒ½
   fix: ä¿®å¤é“¾æ£€æµ‹é”™è¯¯
   refactor: é‡æ„ EVM é€‚é…å™¨
   docs: æ›´æ–°å¼€å‘æ–‡æ¡£
   test: æ·»åŠ é’±åŒ…ç®¡ç†æµ‹è¯•
   ```

3. **PR è§„èŒƒ**
   - æè¿°æ¸…æ™°
   - å…³è” Issue
   - ä»£ç å®¡æŸ¥é€šè¿‡
   - æµ‹è¯•é€šè¿‡

### æµ‹è¯•è§„èŒƒ

1. **å•å…ƒæµ‹è¯•**
   - è¦†ç›–ç‡ > 80%
   - å…³é”®é€»è¾‘ 100% è¦†ç›–

2. **é›†æˆæµ‹è¯•**
   - ä¸»è¦æµç¨‹æµ‹è¯•
   - è·¨æ¨¡å—äº¤äº’æµ‹è¯•

3. **E2E æµ‹è¯•**
   - æ ¸å¿ƒç”¨æˆ·åœºæ™¯
   - å›å½’æµ‹è¯•

---

## å‘å¸ƒè®¡åˆ’

### ç‰ˆæœ¬è§„åˆ’

- **v1.3.0-alpha** (Week 2): åŸºç¡€æ¶æ„
- **v1.3.0-beta1** (Week 4): åŒé’±åŒ…ç®¡ç†
- **v1.3.0-beta2** (Week 6): è‡ªåŠ¨åˆ‡æ¢
- **v1.3.0-rc1** (Week 8): Solana åŸºç¡€åŠŸèƒ½
- **v2.0.0** (Week 10): æ­£å¼å‘å¸ƒ

### å‘å¸ƒæ£€æŸ¥æ¸…å•

**ä»£ç è´¨é‡**:
- [ ] æ‰€æœ‰ä»£ç é€šè¿‡ lint
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] ä»£ç å®¡æŸ¥å®Œæˆ
- [ ] æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡

**æ–‡æ¡£**:
- [ ] README æ›´æ–°
- [ ] CHANGELOG æ›´æ–°
- [ ] ç”¨æˆ·æŒ‡å—å®Œæ•´
- [ ] API æ–‡æ¡£å®Œæ•´

**æ„å»º**:
- [ ] ç”Ÿäº§æ„å»ºæˆåŠŸ
- [ ] manifest.json ç‰ˆæœ¬æ­£ç¡®
- [ ] æ‰“åŒ…æ–‡ä»¶å®Œæ•´

**æµ‹è¯•**:
- [ ] å•å…ƒæµ‹è¯•é€šè¿‡
- [ ] é›†æˆæµ‹è¯•é€šè¿‡
- [ ] E2E æµ‹è¯•é€šè¿‡
- [ ] Beta æµ‹è¯•åé¦ˆå¤„ç†

---

## æ€»ç»“

### å…³é”®æˆåŠŸå› ç´ 

1. âœ… **æ¸…æ™°çš„æŠ½è±¡å±‚** - ç¡®ä¿ä»£ç å¯ç»´æŠ¤
2. âœ… **å……åˆ†çš„æµ‹è¯•** - ä¿è¯è´¨é‡
3. âœ… **åŠæ—¶çš„æ²Ÿé€š** - è§£å†³é—®é¢˜
4. âœ… **ç”¨æˆ·åé¦ˆ** - ä¼˜åŒ–ä½“éªŒ

### é¢„æœŸæˆæœ

1. **åŠŸèƒ½å®Œæ•´**
   - åŒé’±åŒ…ç®¡ç†
   - è‡ªåŠ¨é“¾è¯†åˆ«å’Œåˆ‡æ¢
   - Solana åŸºç¡€åŠŸèƒ½

2. **ä½“éªŒä¼˜ç§€**
   - è‡ªåŠ¨åŒ–ç¨‹åº¦é«˜
   - æ“ä½œæµç•…
   - æç¤ºå‹å¥½

3. **ä»£ç è´¨é‡é«˜**
   - æ¶æ„æ¸…æ™°
   - æ˜“äºæ‰©å±•
   - æµ‹è¯•å……åˆ†

4. **æ–‡æ¡£å®Œå–„**
   - ç”¨æˆ·æŒ‡å—
   - å¼€å‘æ–‡æ¡£
   - API æ–‡æ¡£

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**æœ€åæ›´æ–°**: 2025-01-09
**ç»´æŠ¤è€…**: BSC æ‰“ç‹—æ£’å¼€å‘å›¢é˜Ÿ

**ä¸‹ä¸€æ­¥**: å¼€å§‹ Week 1 çš„ç±»å‹å®šä¹‰å’Œé…ç½®ç³»ç»Ÿå¼€å‘
